(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"0432":function(t,e,a){"use strict";var s=a("ea58"),i=a.n(s);i.a},"713b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"lHh lpR fFf"}},[a("q-drawer",{attrs:{"show-if-above":"",width:458,breakpoint:800,bordered:"","content-class":"bg-grey-3"},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[a("q-scroll-area",{staticClass:"fit"},[a("div",{staticClass:"q-pa-md menu-main",on:{click:function(e){t.showTip=!t.showTip},mouseover:function(e){t.showTip=!0}}},[a("q-icon",{staticClass:"q-pa-md",attrs:{name:"menu"}}),t._v("DAOChat\n      ")],1),t.showTip?a("div",{staticClass:"toolTip-left"},[a("div",{staticClass:"commonBorder",on:{click:t.createGrp}},[t._v("创建一个群")]),a("div",{staticClass:"commonBorder",on:{click:t.clearLogin}},[t._v("退出登录")])]):t._e(),a("grouplist"),a("span",{staticClass:"text-weight-bold"},[t._v("以下为测试跳转用")]),t._l(t.menuList,(function(e,s){return a("q-list",{key:s},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:e.path,exact:"",active:t.link===e.path},on:{click:function(a){t.link=e.path}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon}})],1),a("q-item-section",[t._v(t._s(e.label))])],1),e.separator?a("q-separator"):t._e()],1)}))],2)],1),a("q-dialog",{model:{value:t.iscreate,callback:function(e){t.iscreate=e},expression:"iscreate"}},[a("groupCreate")],1),a("q-page-container",[a("router-view")],1)],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-list",{staticClass:"rounded-borders",staticStyle:{"max-width":"550px"}},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-px-xl q-py-md",attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{rounded:"",size:"40px"}},[a("img",{attrs:{src:"https://cdn.quasar.dev/img/avatar2.jpg"}})])],1),a("q-item-section",[a("q-item-label",{attrs:{lines:"1"}},[a("span",{staticClass:"text-weight-bold"},[t._v("DAOChat官方讨论组")])]),a("q-item-label",{attrs:{caption:"",lines:"2"}},[t._v("跨文化，大小对印度的成见")])],1),a("q-item-section",{attrs:{side:"",top:""}},[a("q-badge",{attrs:{color:"grey",label:"1000"}}),a("q-item-label",{attrs:{caption:""}},[t._v("5:20 PM")])],1)],1),a("q-separator",{attrs:{inset:"true"}}),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-px-xl q-py-md",attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{rounded:"",size:"40px"}},[a("img",{attrs:{src:"https://cdn.quasar.dev/img/avatar4.jpg"}})])],1),a("q-item-section",[a("q-item-label",{attrs:{lines:"1"}},[a("span",{staticClass:"text-weight-bold"},[t._v("John")])]),a("q-item-label",{attrs:{caption:"",lines:"2"}},[t._v("Can we schedule a call for tomorrow?")])],1),a("q-item-section",{attrs:{side:"",top:""}},[t._v("1 min ago")])],1),a("q-item-label",{staticClass:"q-px-xl",attrs:{header:""}},[t._v("推荐")]),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-px-xl q-py-md",attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{rounded:"",size:"40px"}},[a("img",{attrs:{src:"https://cdn.quasar.dev/img/avatar2.jpg"}})])],1),a("q-item-section",[a("q-item-label",{attrs:{lines:"1"}},[a("span",{staticClass:"text-weight-bold"},[t._v("DAOChat官方讨论组")])]),a("q-item-label",{attrs:{caption:"",lines:"2"}},[t._v("跨文化，大小对印度的成见")])],1),a("q-item-section",{attrs:{side:"",top:""}},[a("q-badge",{attrs:{color:"grey",label:"1000"}}),a("q-item-label",{attrs:{caption:""}},[t._v("5:20 PM")])],1)],1),a("q-separator",{attrs:{inset:"true"}}),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-px-xl q-py-md",attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{rounded:"",size:"40px"}},[a("img",{attrs:{src:"https://cdn.quasar.dev/img/avatar4.jpg"}})])],1),a("q-item-section",[a("q-item-label",{attrs:{lines:"1"}},[a("span",{staticClass:"text-weight-bold"},[t._v("John")])]),a("q-item-label",{attrs:{caption:"",lines:"2"}},[t._v("Can we schedule a call for tomorrow?")])],1),a("q-item-section",{attrs:{side:"",top:""}},[t._v("1 min ago")])],1)],1)],1)},n=[],o={data:function(){return{comments:[],submitting:!1,value:"",pagination:{pageSize:10,position:"both"}}},created:function(){},props:{aid:{type:String,default:""}},methods:{getComments:function(){var t=this;this.$axios.get("/api/comments/articles/"+this.aid).then((function(e){console.log(e),200===e.status&&(t.comments=e.data.body)})).catch((function(e){t.$message.error("获取失败")}))},handleSubmit:function(){var t=this;if(this.value){this.submitting=!0;var e={username:this.$store.state.username,userid:this.$store.state.userid,content:this.value,avatar:this.$store.state.avatar};this.$axios.post("/api/comments/"+this.aid,e).then((function(a){console.log(a),200===a.status&&(t.submitting=!1,t.comments.push(e),t.value="")})).catch((function(e){t.submitting=!1,t.$message.error("评论失败")}))}},handleChange:function(t){this.value=t.target.value}}},c=o,l=a("2877"),p=a("eebe"),d=a.n(p),m=a("1c1c"),u=a("66e5"),v=a("4074"),g=a("cb32"),h=a("0170"),b=a("58a8"),f=a("eb85"),q=a("714f"),_=Object(l["a"])(c,r,n,!1,null,null,null),w=_.exports;d()(_,"components",{QList:m["a"],QItem:u["a"],QItemSection:v["a"],QAvatar:g["a"],QItemLabel:h["a"],QBadge:b["a"],QSeparator:f["a"]}),d()(_,"directives",{Ripple:q["a"]});var C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"popupModal createGroupModal"},[a("div"),a("div",{staticClass:"popupMain"},[a("div",{staticClass:"popupTitle row items-center q-pb-none"},[a("div",{staticClass:"text-h6 q-pl-lg q-pt-lg"},[t._v("创建一个群")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("div",{staticClass:"createGroupMain"},[a("div",{staticClass:"createGroupLeft left"},[a("div",{staticClass:"groupName"},[a("label",{staticClass:"left"},[t._v("小组名称")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.crtgrp.tit,expression:"crtgrp.tit"}],staticClass:"left",attrs:{type:"text",placeholder:"必填"},domProps:{value:t.crtgrp.tit},on:{input:function(e){e.target.composing||t.$set(t.crtgrp,"tit",e.target.value)}}}),a("div",{staticClass:"clearfix"})]),a("div",{staticClass:"groupDescription"},[a("label",{staticClass:"left"},[t._v("小组介绍")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.crtgrp.desc_text,expression:"crtgrp.desc_text"}],staticClass:"left",attrs:{maxlength:"200",placeholder:"描述下你的话题，引起大家的兴趣"},domProps:{value:t.crtgrp.desc_text},on:{input:function(e){e.target.composing||t.$set(t.crtgrp,"desc_text",e.target.value)}}}),t._m(0),a("div",{staticClass:"clearfix"})]),a("div",{staticClass:"rewardTit postRead"},[t._v("\n          帖子阅读\n          "),a("label",{staticClass:"radioLabel"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.crtgrp.read_permission,expression:"crtgrp.read_permission"}],staticClass:"postRadio allPerson",attrs:{type:"radio",value:"1",name:"postRadio",checked:""},domProps:{checked:t._q(t.crtgrp.read_permission,"1")},on:{change:function(e){return t.$set(t.crtgrp,"read_permission","1")}}}),a("span",{staticClass:"radioInput"}),t._v("所有人\n          ")]),a("label",{staticClass:"radioLabel onlyTeamlabel"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.crtgrp.read_permission,expression:"crtgrp.read_permission"}],staticClass:"postRadio onlyTeam",attrs:{type:"radio",value:"2",name:"postRadio"},domProps:{checked:t._q(t.crtgrp.read_permission,"2")},on:{change:function(e){return t.$set(t.crtgrp,"read_permission","2")}}}),a("span",{staticClass:"radioInput"}),t._v("仅限组员  \n          ")])]),2==t.crtgrp.read_permission?a("div",{staticClass:"settingContent"},[a("label",{staticClass:"setingLabel"},[t._v("设置密码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.crtgrp.password,expression:"crtgrp.password"}],staticClass:"settingPws",attrs:{type:"password",placeholder:"6位数字或字母"},domProps:{value:t.crtgrp.password},on:{input:function(e){e.target.composing||t.$set(t.crtgrp,"password",e.target.value)}}})]):t._e(),a("div",{staticClass:"popupBtn",on:{click:t.creategrp}},[t._v("完成")])]),t._m(1),a("div",{staticClass:"clearfix"})])])])},x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("i",[a("span",{staticClass:"count-change"},[t._v("0")]),t._v("/200\n          ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createGroupRight right"},[t._v("\n        创建群之后你还可以设置以下参数：入群奖励、阅读奖励、回复奖励等。\n        "),a("br"),a("br"),t._v("请注意，所有的这些奖励的代币将不经过你的确认直接从你的钱包扣掉。\n        若你的钱包余额不够支付奖励，则该群的所有奖励设置将自动归零。\n        "),a("br"),a("br"),t._v("创建群代表你为群内所有言论负责。你若退群，则系统将自动接替你做群主。\n      ")])}],k=a("967e"),y=a.n(k),$=(a("c5f6"),a("7f7f"),a("96cf"),a("fa84")),Q=a.n($),L={components:{},props:{},data:function(){return{crtgrp:{tit:"",desc_text:"",read_permission:"",password:""}}},watch:{},computed:{},methods:{creategrp:function(){var t=this;return Q()(y.a.mark((function e(){var a,s,i;return y.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a="/protected/grp/create",s=t.crtgrp,s["name"]=s.tit,s.read_permission=Number(s.read_permission),!(s.tit=""==s.desc_text||""==s.read_permission)){e.next=8;break}t.$q.notify("信息不完整，请完善信息"),e.next=12;break;case 8:return e.next=10,t.$axios.post("/"+a,s);case 10:i=e.sent,0==i.code?(t.getgrp(),t.iscrtgrp()):t.$q.notify(i.massage);case 12:case"end":return e.stop()}}),e)})))()}},created:function(){},mounted:function(){}},N=L,S=a("2c91"),T=a("9c40"),P=a("7f67"),D=Object(l["a"])(N,C,x,!1,null,null,null),I=D.exports;d()(D,"components",{QSpace:S["a"],QBtn:T["a"]}),d()(D,"directives",{ClosePopup:P["a"]});var O=[{icon:"inbox",label:"首页",separator:!0,path:"/"},{icon:"settings",label:"管理",separator:!1,path:"/manage"},{icon:"people",label:"用户",separator:!1,path:"/person"},{icon:"people",label:"测弹窗",separator:!0,path:"/toast"},{icon:"send",label:"写文章",separator:!1,path:"/edit"},{icon:"delete",label:"文章列表",separator:!1,path:"/articleLists"},{icon:"error",label:"单篇文章",path:"/articles/1",separator:!1},{icon:"settings",label:"设置",path:"/setting",separator:!1},{icon:"feedback",label:"用户",path:"/userinfo",separator:!1}],R={name:"MainLayout",components:{grouplist:w,groupCreate:I},data:function(){return{menuList:O,leftDrawerOpen:!1,link:"",showTip:!1,iscreate:!1}},methods:{createGrp:function(){this.iscreate=!0,this.showTip=!1},clearLogin:function(){this.showTip=!1,localStorage.removeItem("token"),localStorage.removeItem("userinfo"),this.$router.go(0)}}},j=R,M=(a("0432"),a("4d5a")),G=a("9404"),z=a("4983"),A=a("0016"),B=a("24e8"),E=a("09e3"),J=Object(l["a"])(j,s,i,!1,null,"269b10e2",null);e["default"]=J.exports;d()(J,"components",{QLayout:M["a"],QDrawer:G["a"],QScrollArea:z["a"],QIcon:A["a"],QList:m["a"],QItem:u["a"],QItemSection:v["a"],QSeparator:f["a"],QDialog:B["a"],QPageContainer:E["a"]}),d()(J,"directives",{Ripple:q["a"]})},ea58:function(t,e,a){}}]);